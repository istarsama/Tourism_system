2026/1/18 15:50
版本更新：v2.1 - 更新得分算法机制，现在得分系统正常工作
在ai.py中接入了deepseek-v3.2模型，在本地部署时填入API即可
已优化得分计算，现在发布日记后的得分可以正常显示了

################################
2026/1/18 15:00
🚀 版本更新：v2.0 - 核心业务功能上线
日记热度系统 (Hotness System)
数据库升级：Diary 表新增 view_count (浏览量) 字段。
自动统计：实现了日记详情接口 (/detail/{id})，每次访问自动增加浏览量。
推荐算法：实现了基于 “热度优先” 和 “评分优先” 的排序算法，满足个性化推荐需求。
全站搜索与检索 (Search Engine)
实现全文检索接口 (/search)。
支持 or_ 逻辑：可同时在 标题 和 内容 中匹配关键词。
支持搜索结果按热度或时间排序。
多媒体支持 (Multimedia)
文件上传：新增 upload.py 模块，支持图片/视频文件上传到服务器。
静态资源挂载：配置 FastAPI 静态目录，支持通过 URL (/uploads/xxx.jpg) 直接访问图片。
数据库存储：优化 media_json 字段，存储真实的文件路径。
系统稳定性优化
优化 lifespan 生命周期，服务启动时自动检测并修复缺失的数据库表结构。
