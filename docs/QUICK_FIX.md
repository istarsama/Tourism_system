# ğŸš€ å¿«é€Ÿä½¿ç”¨æŒ‡å—

## ğŸ“‹ çˆ¬è™«æŠ¥é”™åˆ†æ

### ä½ é‡åˆ°çš„é—®é¢˜

```
ğŸ•·ï¸ å¼€å§‹çˆ¬å–å°çº¢ä¹¦å…³é”®è¯: åŒ—é‚®å®¿èˆ, æ•°é‡: 5...
æœç´¢å…³é”®è¯ åŒ—é‚®å®¿èˆ ç¬”è®°æ•°é‡: 0
âœ… æˆåŠŸçˆ¬å– 0 æ¡ç¬”è®°
```

### ğŸ” åŸå› åˆ†æ

1. **å…³é”®è¯å¤ªå†·é—¨** âš ï¸
   - "åŒ—é‚®å®¿èˆ"åœ¨å°çº¢ä¹¦ä¸Šå†…å®¹å¯èƒ½å¾ˆå°‘
   - å»ºè®®æ¢æˆæ›´çƒ­é—¨çš„å…³é”®è¯ï¼Œå¦‚ï¼š
     - âœ… "åŒ—é‚®é£Ÿå ‚"
     - âœ… "åŒ—é‚®å›¾ä¹¦é¦†"
     - âœ… "åŒ—äº¬é‚®ç”µå¤§å­¦"
     - âœ… "åŒ—é‚®æ ¡å›­"

2. **Cookie å¯èƒ½å¤±æ•ˆ** ğŸ”„
   - Cookie é€šå¸¸æœ‰æ•ˆæœŸ 7-30 å¤©
   - å»ºè®®é‡æ–°è·å–ï¼ˆè§ä¸‹æ–¹æ•™ç¨‹ï¼‰

3. **æ¥å£é™åˆ¶** ğŸš«
   - å°çº¢ä¹¦å¯èƒ½é™åˆ¶çˆ¬å–é¢‘ç‡
   - ç­‰å¾…å‡ åˆ†é’Ÿåé‡è¯•

---

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### 1. æ›´æ¢å…³é”®è¯æµ‹è¯•

```bash
# ä½¿ç”¨æ–°çš„ç»Ÿä¸€å…¥å£
uv run python runtest.py crawl "åŒ—é‚®é£Ÿå ‚"
```

### 2. æ›´æ–° Cookie

1. æµè§ˆå™¨ç™»å½•å°çº¢ä¹¦ (xiaohongshu.com)
2. F12 â†’ Network â†’ åˆ·æ–°é¡µé¢
3. æ‰¾åˆ°ä»»æ„è¯·æ±‚ â†’ å¤åˆ¶ Cookie
4. æ›´æ–° `.env` æ–‡ä»¶ï¼š

```env
XHS_COOKIE=ä½ çš„æ–°cookie
```

### 3. æµ‹è¯•çˆ¬è™«è¿æ¥

```bash
# æµ‹è¯•çˆ¬è™«æ¨¡å—
uv run python runtest.py test-spider
```

---

## ğŸ¯ æ–°çš„é¡¹ç›®ç»“æ„

### å·²å®Œæˆé‡ç»„ âœ…

**æ ¹ç›®å½•ç°åœ¨å¾ˆæ¸…çˆ½ï¼š**
```
Tourism_system/
â”œâ”€â”€ runtest.py          # ğŸ†• ç»Ÿä¸€å…¥å£
â”œâ”€â”€ tools/              # ğŸ†• åŠŸèƒ½å·¥å…·
â”‚   â”œâ”€â”€ view_database.py
â”‚   â”œâ”€â”€ import_crawled_data.py
â”‚   â””â”€â”€ crawl_import.py
â””â”€â”€ tests/
    â”œâ”€â”€ test_*.py       # ä¸šåŠ¡æµ‹è¯•
    â””â”€â”€ tools/          # ğŸ†• æµ‹è¯•å·¥å…·
        â”œâ”€â”€ check_ids.py
        â”œâ”€â”€ upgrade_database.py
        â””â”€â”€ ...
```

---

## ğŸ“š å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### æ•°æ®åº“ç›¸å…³

| å‘½ä»¤ | åŠŸèƒ½ |
|------|------|
| `uv run python runtest.py db-view` | æŸ¥çœ‹æ•°æ®åº“æ•°æ® |
| `uv run python runtest.py spots` | æŸ¥çœ‹æ‰€æœ‰æ™¯ç‚¹ |
| `uv run python runtest.py db-check` | æŸ¥çœ‹è¡¨ç»“æ„ |
| `uv run python runtest.py db-upgrade` | å‡çº§æ•°æ®åº“ |

### çˆ¬è™«ç›¸å…³

| å‘½ä»¤ | åŠŸèƒ½ |
|------|------|
| `uv run python runtest.py crawl` | äº¤äº’å¼çˆ¬å– |
| `uv run python runtest.py crawl "åŒ—é‚®é£Ÿå ‚"` | çˆ¬å–æŒ‡å®šå…³é”®è¯ |
| `uv run python runtest.py crawl-batch "é£Ÿå ‚" "å›¾ä¹¦é¦†"` | æ‰¹é‡çˆ¬å– |
| `uv run python runtest.py test-spider` | æµ‹è¯•çˆ¬è™« |

### æµ‹è¯•ç›¸å…³

| å‘½ä»¤ | åŠŸèƒ½ |
|------|------|
| `uv run python runtest.py test-ai` | æµ‹è¯•AI |
| `uv run python runtest.py test-nav` | æµ‹è¯•å¯¼èˆª |
| `uv run python runtest.py test-all` | è¿è¡Œæ‰€æœ‰æµ‹è¯• |

---

## ğŸ”„ çˆ¬è™«æ¨èå…³é”®è¯

### âœ… çƒ­é—¨å…³é”®è¯ï¼ˆæ¨èï¼‰

```bash
# é£Ÿå ‚ç›¸å…³
uv run python runtest.py crawl "åŒ—é‚®é£Ÿå ‚"
uv run python runtest.py crawl "å­¦ä¸€é£Ÿå ‚"
uv run python runtest.py crawl "åŒ—é‚®ç¾é£Ÿ"

# å­¦ä¹ ç›¸å…³
uv run python runtest.py crawl "åŒ—é‚®å›¾ä¹¦é¦†"
uv run python runtest.py crawl "å›¾ä¹¦é¦†è‡ªä¹ "

# æ™¯ç‚¹ç›¸å…³
uv run python runtest.py crawl "åŒ—é‚®æ ¡å›­"
uv run python runtest.py crawl "åŒ—äº¬é‚®ç”µå¤§å­¦"
uv run python runtest.py crawl "åŒ—é‚®æ˜Ÿå¡”"

# æ‰¹é‡å¯¼å…¥
uv run python runtest.py crawl-batch "åŒ—é‚®é£Ÿå ‚" "å›¾ä¹¦é¦†è‡ªä¹ " "åŒ—é‚®æ ¡å›­"
```

### âŒ å†·é—¨å…³é”®è¯ï¼ˆä¸æ¨èï¼‰

- "åŒ—é‚®å®¿èˆ" - å†…å®¹è¾ƒå°‘
- "åŒ—é‚®æ•™å®¤" - æœç´¢é‡ä½
- å¤ªå…·ä½“çš„å…³é”®è¯

---

## ğŸ¯ å®Œæ•´æµ‹è¯•æµç¨‹

```bash
# 1. æŸ¥çœ‹æ•°æ®åº“ç°æœ‰æ•°æ®
uv run python runtest.py db-view

# 2. æŸ¥çœ‹å¯ç”¨æ™¯ç‚¹
uv run python runtest.py spots

# 3. çˆ¬å–æ•°æ®ï¼ˆæ¢ä¸ªçƒ­é—¨å…³é”®è¯ï¼‰
uv run python runtest.py crawl "åŒ—é‚®é£Ÿå ‚"

# 4. å†æ¬¡æŸ¥çœ‹æ•°æ®åº“ï¼ˆåº”è¯¥æœ‰æ–°æ•°æ®ï¼‰
uv run python runtest.py db-view

# 5. æµ‹è¯•AIæ˜¯å¦èƒ½æ£€ç´¢åˆ°
uv run python runtest.py test-ai
```

---

## ğŸ’¡ æç¤º

1. **é¦–æ¬¡ä½¿ç”¨å»ºè®®**ï¼š
   - å…ˆç”¨çƒ­é—¨å…³é”®è¯æµ‹è¯•ï¼ˆå¦‚"åŒ—é‚®é£Ÿå ‚"ï¼‰
   - çˆ¬å– 3-5 æ¡éªŒè¯æµç¨‹

2. **Cookie æ›´æ–°æç¤º**ï¼š
   - å¦‚æœå¤šæ¬¡çˆ¬å–å¤±è´¥ï¼Œä¼˜å…ˆæ£€æŸ¥ Cookie
   - Cookie æœ‰æ•ˆæœŸé€šå¸¸ 7-30 å¤©

3. **å…³é”®è¯é€‰æ‹©**ï¼š
   - å°½é‡é€‰æ‹©çƒ­é—¨ã€å®½æ³›çš„å…³é”®è¯
   - å¯ä»¥å…ˆåœ¨å°çº¢ä¹¦æœç´¢ç¡®è®¤æœ‰å†…å®¹

4. **æ•°æ®éªŒè¯**ï¼š
   - å¯¼å…¥åç”¨ `db-view` æ£€æŸ¥
   - å¯åŠ¨åç«¯æµ‹è¯• AI æ£€ç´¢

---

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- [çˆ¬è™«å¯¼å…¥æŒ‡å—](CRAWL_IMPORT_GUIDE.md)
- [é¡¹ç›®ç»“æ„è¯´æ˜](PROJECT_STRUCTURE.md)
- [é—®é¢˜ä¿®å¤æ–‡æ¡£](FIX_DATA_LENGTH_ISSUE.md)

---

**ç°åœ¨è¯•è¯•ç”¨çƒ­é—¨å…³é”®è¯é‡æ–°çˆ¬å–å§ï¼** ğŸ‰

```bash
uv run python runtest.py crawl "åŒ—é‚®é£Ÿå ‚"
```
